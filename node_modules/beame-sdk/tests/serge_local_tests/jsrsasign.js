/**
 * Created by zenit1 on 05/05/2017.
 */
"use strict";

const rs = require('jsrsasign');
//const rsu = require('jsrsasign-util');
const fs = require('fs');
let pemStr = (fs.readFileSync('./x509-p2p.pem')).toString();


let x = new rs.X509();
x.readCertPEM(pemStr);

let info = x.getInfo();
let hex = rs.X509.pemToHex(pemStr);
let ai = rs.X509.getExtAIAInfo(hex),
    akid = rs.X509.getExtSubjectAltName(hex),
    alt = rs.X509.getExtSubjectAltName(hex),
	pub = rs.X509.getPublicKeyInfoPropOfCertPEM(pemStr),
	after = x.getNotAfter();

const pem                    = require('pem');

// pem.config({sync: true});
// pem.readCertificateInfo((fs.readFileSync('./x509-xml.pem')), (err, certData) => {
// 	console.log(certData);
// });

console.log(ai);
console.log(info);

console.log(x.getIssuerString());
console.log(x.getSubjectString());