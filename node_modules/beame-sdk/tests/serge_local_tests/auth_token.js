/**
 * Created by zenit1 on 21/12/2016.
 */
"use strict";

process.env.BEAME_LOG_LEVEL = "DEBUG";

const AuthToken = require('../../src/services/AuthToken');
const store = new(require('../../src/services/BeameStoreV2'))();
const fqdn =  'p2payp4q8f5ruo22.q6ujqecc83gg6fod.v1.d.beameio.net';

let cred = store.getCredential(fqdn);

AuthToken.createAsync({name:'huy',email:'huy@example.com'},cred).then(token=>{
	console.log(token);
	cred.createEntityWithAuthToken(token, 'huy', 'huy+1@example.com').then(data => {
		console.log(data);
	}).catch(error => {
		console.error(error);
	});
}).catch(error=>{
	console.error(error);
});



